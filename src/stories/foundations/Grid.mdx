import { Meta } from '@storybook/blocks';

<Meta title="Foundations/Grid System" />

# Grid System

Our grid system is built on the **2x Grid** philosophy. It uses a base unit of **8px** (2x mini unit of 4px) to ensure consistent visual rhythm, alignment, and scalability across all screen sizes.

<br />

## The 2x Grid Base
Every spacing, sizing, and layout decision in the Enterprise Design System is a multiple of **8px**.
-   **Mini Unit (4px)**: Used for micro-spacing within components (e.g., icon padding).
-   **Base Unit (8px)**: The fundamental building block for layout and geometry.

<br />

# Grid Fundamentals

The grid consists of three core elements: **Columns**, **Gutters**, and **Margins**.

## Grid Anatomy

<div className="relative w-full overflow-x-auto border border-border-default rounded bg-bg-canvas mb-12 p-8">
  <div className="min-w-[800px] flex flex-col gap-4">
    
    {/* Labels Row */}
    <div className="flex relative h-12 text-xs font-mono text-text-secondary mb-4">
      <div className="absolute left-[5%] flex flex-col items-center -translate-x-1/2">
        <span className="whitespace-nowrap">Margin</span>
        <div className="h-4 w-px bg-text-secondary/50"></div>
      </div>
       <div className="absolute left-[30%] flex flex-col items-center -translate-x-1/2">
        <span className="whitespace-nowrap">Gutter</span>
        <div className="h-4 w-px bg-text-secondary/50"></div>
      </div>
       <div className="absolute left-[55%] flex flex-col items-center -translate-x-1/2">
        <span className="whitespace-nowrap">Column</span>
        <div className="h-4 w-px bg-text-secondary/50"></div>
      </div>
      <div className="absolute right-[5%] flex flex-col items-center translate-x-1/2">
        <span className="whitespace-nowrap">Margin</span>
        <div className="h-4 w-px bg-text-secondary/50"></div>
      </div>
    </div>

    {/* The Grid Visual */}
    <div className="flex w-full h-64 border border-text-disabled/20 relative">
      
      {/* Left Margin (Green) */}
      <div className="w-8 h-full bg-success-500/20 border-r border-success-500/30 flex-shrink-0 flex items-center justify-center">
      </div>

      {/* Grid Container (Columns + Gutters) */}
      <div className="flex-1 grid grid-cols-12 gap-4 h-full bg-bg-surface">
        {Array.from({ length: 12 }).map((_, i) => (
          <div key={i} className="bg-red-500/20 h-full border-x border-red-500/10 hover:bg-red-500/30 transition-colors"></div>
        ))}
      </div>

      {/* Right Margin (Green) */}
      <div className="w-8 h-full bg-success-500/20 border-l border-success-500/30 flex-shrink-0 flex items-center justify-center">
      </div>
    </div>

    {/* Dimensions Row */}
    <div className="flex justify-between text-[10px] text-text-secondary font-mono border-t border-text-disabled/20 pt-2 mt-2">
       <span>Fluid Space</span>
       <span>1280px / 1440px / 1920px</span>
       <span>Fluid Space</span>
    </div>
  </div>
</div>

## 1. Columns
Content is placed within columns. Use a **12-column** grid for most standard layouts.

## 2. Gutters
Gutters are the gaps between columns. We use a **Pink** color to visualize gaps below.

<div className="flex flex-col gap-8 mb-12">
    {/* Gap 4 */}
    <div>
        <div className="text-xs font-mono mb-2 text-text-secondary">Compact (gap-4 / 16px)</div>
        <div className="relative border border-border-default rounded bg-bg-canvas p-4">
            {/* The pink background on the grid container shows through the gaps */}
            <div className="grid grid-cols-3 gap-4 bg-pink-500/30 rounded">
                 <div className="h-16 bg-bg-surface border border-border-default flex items-center justify-center text-xs z-10">Col</div>
                 <div className="h-16 bg-bg-surface border border-border-default flex items-center justify-center text-xs z-10">Col</div>
                 <div className="h-16 bg-bg-surface border border-border-default flex items-center justify-center text-xs z-10">Col</div>
            </div>
            <div className="flex items-center gap-2 mt-2">
                <div className="w-4 h-4 bg-pink-500/30 rounded"></div>
                <span className="text-[10px] text-text-secondary uppercase tracking-wider">Gutter (16px)</span>
            </div>
        </div>
    </div>
    
     {/* Gap 8 */}
    <div>
        <div className="text-xs font-mono mb-2 text-text-secondary">Wide (gap-8 / 32px)</div>
        <div className="relative border border-border-default rounded bg-bg-canvas p-4">
            <div className="grid grid-cols-3 gap-8 bg-pink-500/30 rounded">
                 <div className="h-16 bg-bg-surface border border-border-default flex items-center justify-center text-xs z-10">Col</div>
                 <div className="h-16 bg-bg-surface border border-border-default flex items-center justify-center text-xs z-10">Col</div>
                 <div className="h-16 bg-bg-surface border border-border-default flex items-center justify-center text-xs z-10">Col</div>
            </div>
             <div className="flex items-center gap-2 mt-2">
                <div className="w-4 h-4 bg-pink-500/30 rounded"></div>
                <span className="text-[10px] text-text-secondary uppercase tracking-wider">Gutter (32px)</span>
            </div>
        </div>
    </div>
</div>

## 3. Margins
Margins are the outer spacing of the grid container. We use **Blue** to visualize margins.

<div className="mb-12">
    <div className="text-xs font-mono mb-2 text-text-secondary">Example: Desktop Margin (px-8)</div>
    <div className="w-full border border-border-default rounded p-4">
        {/* The Blue container represents the margin area */}
        <div className="bg-action-primary/20 p-8 w-full rounded">
            {/* The inner white box is the actual grid content */}
            <div className="w-full h-24 bg-bg-surface border border-dashed border-text-disabled flex items-center justify-center text-text-secondary relative">
                Grid Content
            </div>
        </div>
         <div className="flex items-center gap-2 mt-2">
            <div className="w-4 h-4 bg-action-primary/20 rounded"></div>
            <span className="text-[10px] text-text-secondary uppercase tracking-wider">Margin / Padding (32px)</span>
        </div>
    </div>
</div>

<br />
<br />

# Breakpoint Systems

We offer two breakpoint systems depending on the application type.

## A. Standard System (Mobile-First)
Best for public-facing websites and simple applications. Starts at mobile and scales up.

<br />

| Breakpoint | Prefix | Width | Column Count |
| :--- | :--- | :--- | :--- |
| **Small** | `sm:` | 640px | 4 (Fluid) |
| **Medium** | `md:` | 768px | 8 (Fluid) |
| **Large** | `lg:` | 1024px | 12 (Fluid) |
| **X-Large** | `xl:` | 1280px | 12 (Fixed Max) |

<br />
<br />

## B. Enterprise Dashboard System (High Density)
Optimized for complex, data-rich interfaces (e.g., admin panels, trading terminals) where **sidebar navigation** consumes horizontal space and users have large displays.

<br />

| Breakpoint | Prefix | Min Width | usage Criteria | Recommended Columns |
| :--- | :--- | :--- | :--- | :--- |
| **Compact** | (Default) | < 1024px | Mobile/Tablet Portrait views of dashboard. | 4 (Stacked) |
| **Laptop** | `lg:` | 1024px | Standard laptop with sidebar open. | 8 or 12 |
| **Desktop** | `xl:` | 1440px | Standard monitor (1080p+). ideal for tables. | 12 |
| **Ultra** | `2xl:` | 1920px | Large monitors. High density data. | **16** (For fine-grained control) |

<br />

> **Note on 16 Columns**: In "Ultra" mode, switching to a 16-column grid allows for more precise widget placement in complex dashboards. Use `grid-cols-16` (custom utility) if enabled, or stick to `grid-cols-12` for consistency.

<br />
<br />

# Usage Example

```tsx
// Standard Dashboard Layout
<div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-12 gap-6">
  {/* Card spans full width on mobile, half on tablet, 1/4 on laptop, 3/12 on desktop */}
  <div className="col-span-1 lg:col-span-1 xl:col-span-3">Stat Card</div>
</div>
```
