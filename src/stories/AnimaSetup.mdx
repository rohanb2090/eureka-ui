import { Meta } from '@storybook/blocks';

<Meta title="Foundations/Anima Setup" />

# Figma Integration (Anima CLI)

This design system uses the **Anima Storybook CLI** to bridge the gap between code and design. 

> [!NOTE]
> We utilize the CLI approach instead of the Storybook Addon to ensure full compatibility with **Storybook 8** and our Vite-based build system.

## For Designers

### 1. Setup
1. Install the **Anima** plugin in Figma.
2. Ensure you have access to the **Eureka UI** project in Anima.

### 2. Connect to Storybook
1. In the Anima plugin, select **"Import from Storybook"**.
2. Paste the URL of our deployed Storybook (e.g., from Chromatic) or use the sync token.

### How to get your Anima Token
You can find your **Anima Team Token** in two places:
- **In Figma**: Open the Anima plugin, go to the **"Manage Design System"** screen, and you'll find the access token there.
- **In Anima Web App**: Log in to [animaapp.com](https://www.animaapp.com), go to your **Team Settings**, and look for the **API Token** or **Access Token** section.

---

## For Developers

### 1. Setup Environment
Ensure your **ANIMA_TEAM_TOKEN** is set in your `.env` file or environment variables.

```env
# .env
ANIMA_TEAM_TOKEN="your_token_here"
```

### 2. Sync to Anima
The sync process is decoupled from the dev server to maintain build stability. Run the sync command after building Storybook:

```bash
# 1. Build Storybook
npm run build-storybook

# 2. Sync to Anima
npm run anima-sync
```

> [!IMPORTANT]
> The `npm run anima-sync` command requires a valid `ANIMA_TEAM_TOKEN`.
