import{j as o}from"./jsx-runtime-Blucd9Qg.js";import{r as n}from"./index-CcKhGcwW.js";import{c as f}from"./cn-CytzSlOG.js";import{B as h}from"./Button-CFyzd8sv.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-DVF2XGCm.js";const W={info:4e3,success:4e3,warning:6e3,error:8e3},$=3;let z=0;function V(){return`toast-${Date.now()}-${++z}`}function O(){const[r,d]=n.useState([]),u=n.useRef(new Map),i=n.useCallback(e=>{const t=u.current.get(e);t&&(clearTimeout(t),u.current.delete(e))},[]),m=n.useCallback(e=>{var s;d(l=>l.filter(v=>v.id!==e)),i(e);const t=r.find(l=>l.id===e);(s=t==null?void 0:t.onDismiss)==null||s.call(t)},[r,i]),p=n.useCallback(e=>{if(e.duration===0)return;const t=setTimeout(()=>{m(e.id)},e.duration);u.current.set(e.id,t)},[m]),C=n.useCallback(()=>{r.forEach(e=>{var t;i(e.id),(t=e.onDismiss)==null||t.call(e)}),d([])},[r,i]),a=n.useCallback(e=>{const t=e.id||V(),s=e.severity||"info",l=e.duration!==void 0?e.duration:W[s],v=r.find(T=>T.message===e.message&&T.severity===s);if(v)return v.id;const S={id:t,message:e.message,severity:s,duration:l,action:e.action,onDismiss:e.onDismiss,isPaused:!1};return d(T=>{var N;const P=[...T,S];if(P.length>$){const b=P.shift();b&&(i(b.id),(N=b.onDismiss)==null||N.call(b))}return P}),setTimeout(()=>p(S),0),t},[r,p,i]),c=n.useCallback(e=>{i(e),d(t=>t.map(s=>s.id===e?{...s,isPaused:!0}:s))},[i]),g=n.useCallback(e=>{const t=r.find(s=>s.id===e);t&&!t.isPaused||(d(s=>s.map(l=>l.id===e?{...l,isPaused:!1}:l)),t&&p(t))},[r,p]);n.useEffect(()=>{const e=u.current;return()=>{e.forEach(t=>clearTimeout(t)),e.clear()}},[]);const j=n.useCallback((e="bottom-right")=>({role:"region","aria-live":"polite","aria-label":"Notifications"}),[]),q=n.useCallback(e=>{const t=e.severity==="error"||e.severity==="warning";return{role:t?"alert":"status",...t&&{"aria-live":"assertive"},onMouseEnter:()=>c(e.id),onMouseLeave:()=>g(e.id),onFocus:()=>c(e.id),onBlur:()=>g(e.id)}},[c,g]),L=n.useCallback(e=>({"aria-label":"Dismiss notification",onClick:()=>m(e)}),[m]);return{show:a,dismiss:m,dismissAll:C,toasts:r,getContainerProps:j,getToastProps:q,getDismissButtonProps:L}}const X={info:{bg:"bg-blue-50 dark:bg-blue-950",border:"border-blue-200 dark:border-blue-800",text:"text-blue-800 dark:text-blue-200",icon:"ℹ️"},success:{bg:"bg-green-50 dark:bg-green-950",border:"border-green-200 dark:border-green-800",text:"text-green-800 dark:text-green-200",icon:"✓"},warning:{bg:"bg-yellow-50 dark:bg-yellow-950",border:"border-yellow-200 dark:border-yellow-800",text:"text-yellow-800 dark:text-yellow-200",icon:"⚠️"},error:{bg:"bg-red-50 dark:bg-red-950",border:"border-red-200 dark:border-red-800",text:"text-red-800 dark:text-red-200",icon:"✕"}},G={"top-left":"top-4 left-4","top-center":"top-4 left-1/2 -translate-x-1/2","top-right":"top-4 right-4","bottom-left":"bottom-4 left-4","bottom-center":"bottom-4 left-1/2 -translate-x-1/2","bottom-right":"bottom-4 right-4"};function x({position:r="bottom-right",children:d}){const{toasts:u,getContainerProps:i,getToastProps:m,getDismissButtonProps:p}=O(),C=i(r);return o.jsxs(o.Fragment,{children:[d,o.jsx("div",{...C,className:f("fixed z-50","flex flex-col gap-[var(--spacing-sm)]","pointer-events-none",G[r]),children:u.map(a=>{const c=X[a.severity],g=m(a),j=p(a.id);return o.jsxs("div",{...g,className:f("pointer-events-auto","min-w-[320px] max-w-[420px]",c.bg,"border",c.border,"rounded-[var(--radius-md)]","shadow-lg","p-[var(--spacing-md)]","flex gap-[var(--spacing-sm)] items-start","animate-in slide-in-from-bottom-2 fade-in","transition-all duration-200"),children:[o.jsx("span",{className:"flex-shrink-0","aria-hidden":"true",children:c.icon}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:f("text-sm",c.text),children:a.message}),a.action&&o.jsx("button",{onClick:a.action.onClick,className:f("mt-2 text-sm font-medium underline",c.text,"hover:opacity-80"),children:a.action.label})]}),o.jsx("button",{...j,className:f("flex-shrink-0",c.text,"hover:opacity-80"),children:"✕"})]},a.id)})})]})}x.__docgenInfo={description:"",methods:[],displayName:"ToastProvider",props:{position:{required:!1,tsType:{name:"union",raw:`| 'top-left'
| 'top-center'
| 'top-right'
| 'bottom-left'
| 'bottom-center'
| 'bottom-right'`,elements:[{name:"literal",value:"'top-left'"},{name:"literal",value:"'top-center'"},{name:"literal",value:"'top-right'"},{name:"literal",value:"'bottom-left'"},{name:"literal",value:"'bottom-center'"},{name:"literal",value:"'bottom-right'"}]},description:"Toast position",defaultValue:{value:"'bottom-right'",computed:!1}},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};function D(){const{show:r}=O();return o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx(h,{onClick:()=>r({message:"This is an info toast",severity:"info"}),children:"Show Info Toast"}),o.jsx(h,{onClick:()=>r({message:"Successfully saved!",severity:"success"}),variant:"secondary",children:"Show Success Toast"}),o.jsx(h,{onClick:()=>r({message:"Warning: Check your input",severity:"warning"}),variant:"secondary",children:"Show Warning Toast"}),o.jsx(h,{onClick:()=>r({message:"Error: Something went wrong",severity:"error"}),variant:"destructive",children:"Show Error Toast"}),o.jsx(h,{onClick:()=>r({message:"Item deleted",severity:"info",action:{label:"Undo",onClick:()=>alert("Undoing...")}}),variant:"ghost",children:"Show Toast with Action"})]})}const ee={title:"Components/Toast",component:x,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{position:{control:"select",options:["top-left","top-center","top-right","bottom-left","bottom-center","bottom-right"]}}},k={render:r=>o.jsx(x,{...r,children:o.jsx(D,{})}),args:{position:"bottom-right"}},y={render:r=>o.jsx(x,{...r,children:o.jsx(D,{})}),args:{position:"top-right"}},w={render:r=>o.jsx(x,{...r,children:o.jsx(D,{})}),args:{position:"bottom-center"}};var E,R,A;k.parameters={...k.parameters,docs:{...(E=k.parameters)==null?void 0:E.docs,source:{originalSource:`{
  render: args => <ToastProvider {...args}>
            <ToastDemo />
        </ToastProvider>,
  args: {
    position: 'bottom-right'
  }
}`,...(A=(R=k.parameters)==null?void 0:R.docs)==null?void 0:A.source}}};var B,_,I;y.parameters={...y.parameters,docs:{...(B=y.parameters)==null?void 0:B.docs,source:{originalSource:`{
  render: args => <ToastProvider {...args}>
            <ToastDemo />
        </ToastProvider>,
  args: {
    position: 'top-right'
  }
}`,...(I=(_=y.parameters)==null?void 0:_.docs)==null?void 0:I.source}}};var M,U,F;w.parameters={...w.parameters,docs:{...(M=w.parameters)==null?void 0:M.docs,source:{originalSource:`{
  render: args => <ToastProvider {...args}>
            <ToastDemo />
        </ToastProvider>,
  args: {
    position: 'bottom-center'
  }
}`,...(F=(U=w.parameters)==null?void 0:U.docs)==null?void 0:F.source}}};const te=["Interactive","TopRight","BottomCenter"];export{w as BottomCenter,k as Interactive,y as TopRight,te as __namedExportsOrder,ee as default};
