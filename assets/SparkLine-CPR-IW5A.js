import{j as g}from"./jsx-runtime-BYYWji4R.js";import{r as d}from"./index-ClcD9ViR.js";import{c as b}from"./cn-CytzSlOG.js";function M(f){const{data:e}=f,{min:r,max:a,current:l}=d.useMemo(()=>{const t=e.filter(n=>typeof n=="number"&&!isNaN(n));return{min:Math.min(...t),max:Math.max(...t),current:t[t.length-1]||0}},[e]),u=d.useMemo(()=>{if(e.length<2)return"stable";const t=e[0],n=e[e.length-1];return n>t*1.05?"up":n<t*.95?"down":"stable"},[e]),{pathData:h,lastPoint:y}=d.useMemo(()=>{if(e.length===0)return{pathData:"",lastPoint:null};const t=100,n=32,$=a-r||1,s=e.map((o,p)=>{const i=p/(e.length-1||1)*t,m=(o-r)/$,v=n-m*n;return{x:i,y:v,value:o}});let x=`M ${s[0].x} ${s[0].y}`;for(let o=0;o<s.length-1;o++){const p=s[o],i=s[o+1],m=(p.x+i.x)/2;x+=` Q ${m} ${p.y}, ${m} ${(p.y+i.y)/2}`,x+=` Q ${m} ${i.y}, ${i.x} ${i.y}`}return{pathData:x,lastPoint:s[s.length-1]||null}},[e,r,a]),c=d.useMemo(()=>({role:"img","aria-label":`Trend: ${u}, Current: ${l}, Min: ${r}, Max: ${a}`}),[u,l,r,a]);return{pathData:h,lastPoint:y,min:r,max:a,current:l,trend:u,chartProps:c}}function k({data:f,showDot:e=!0,width:r=100,height:a=32,lineColor:l="var(--action-primary)",dotColor:u="var(--action-primary)",className:h}){const{pathData:y,lastPoint:c,chartProps:t}=M({data:f});return g.jsxs("svg",{...t,width:r,height:a,viewBox:"0 0 100 32",className:b("inline-block",h),preserveAspectRatio:"none",children:[g.jsx("path",{d:y,fill:"none",stroke:l,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e&&c&&g.jsx("circle",{cx:c.x,cy:c.y,r:"2",fill:u})]})}k.__docgenInfo={description:"",methods:[],displayName:"SparkLine",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:""},showDot:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"100",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"32",computed:!1}},lineColor:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'var(--action-primary)'",computed:!1}},dotColor:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'var(--action-primary)'",computed:!1}}}};export{k as S};
