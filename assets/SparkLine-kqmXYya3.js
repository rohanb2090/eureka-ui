import{j as h}from"./jsx-runtime-BYYWji4R.js";import{r as u}from"./index-ClcD9ViR.js";import{c as b}from"./cn-CytzSlOG.js";function M(c){const{data:e}=c,{min:r,max:n,current:s}=u.useMemo(()=>{const t=e.filter(a=>typeof a=="number"&&!isNaN(a));return{min:Math.min(...t),max:Math.max(...t),current:t[t.length-1]||0}},[e]),o=u.useMemo(()=>{if(e.length<2)return"stable";const t=e[0],a=e[e.length-1];return a>t*1.05?"up":a<t*.95?"down":"stable"},[e]),{pathData:p,lastPoint:m}=u.useMemo(()=>{if(e.length===0)return{pathData:"",lastPoint:null};const t=100,a=32,y=n-r||1,d=e.map((l,f)=>{const x=f/(e.length-1||1)*t,g=(l-r)/y,v=a-g*a;return{x,y:v,value:l}});return{pathData:d.map((l,f)=>`${f===0?"M":"L"} ${l.x} ${l.y}`).join(" "),lastPoint:d[d.length-1]||null}},[e,r,n]),i=u.useMemo(()=>({role:"img","aria-label":`Trend: ${o}, Current: ${s}, Min: ${r}, Max: ${n}`}),[o,s,r,n]);return{pathData:p,lastPoint:m,min:r,max:n,current:s,trend:o,chartProps:i}}function k({data:c,showDot:e=!0,width:r=100,height:n=32,lineColor:s="var(--action-primary)",dotColor:o="var(--action-primary)",className:p}){const{pathData:m,lastPoint:i,chartProps:t}=M({data:c});return h.jsxs("svg",{...t,width:r,height:n,viewBox:"0 0 100 32",className:b("inline-block",p),preserveAspectRatio:"none",children:[h.jsx("path",{d:m,fill:"none",stroke:s,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e&&i&&h.jsx("circle",{cx:i.x,cy:i.y,r:"2",fill:o})]})}k.__docgenInfo={description:"",methods:[],displayName:"SparkLine",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:""},showDot:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},width:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"100",computed:!1}},height:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"32",computed:!1}},lineColor:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'var(--action-primary)'",computed:!1}},dotColor:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'var(--action-primary)'",computed:!1}}}};export{k as S};
