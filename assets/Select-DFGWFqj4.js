import{j as i}from"./jsx-runtime-Blucd9Qg.js";import{r as s}from"./index-CcKhGcwW.js";import{c as M}from"./index-DVF2XGCm.js";import{c as T}from"./cn-CytzSlOG.js";import{C as N}from"./chevron-down-B5L34KAw.js";function O(m){const{options:t,value:e,defaultValue:l,isDisabled:n=!1,isReadOnly:o=!1,isRequired:d=!1,isInvalid:c=!1,onChange:a,onFocus:u,onBlur:p,name:S,id:E,"aria-label":v,"aria-labelledby":b,"aria-describedby":y}=m,[w,F]=s.useState(l),g=e!==void 0?e:w,[V,h]=s.useState(!1),D=s.useMemo(()=>t.find(r=>r.value===g)||null,[t,g]),C=s.useCallback(r=>{if(n||o){r.preventDefault();return}const f=r.target.value,q=t.find(L=>L.value===f);q&&(e===void 0&&F(f),a==null||a(f,q))},[n,o,t,e,a]),j=s.useCallback(r=>{h(!0),u==null||u(r)},[u]),I=s.useCallback(r=>{h(!1),p==null||p(r)},[p]);return{selectProps:{...e!==void 0&&{value:e},...e===void 0&&l!==void 0&&{defaultValue:l},disabled:n,required:d,name:S,id:E,...v&&{"aria-label":v},...b&&{"aria-labelledby":b},...y&&{"aria-describedby":y},...c&&{"aria-invalid":!0},...d&&{"aria-required":!0},onChange:C,onFocus:j,onBlur:I},state:{selectedOption:D,isFocused:V,isDisabled:n,isReadOnly:o,isInvalid:c},options:t}}const H=M(["w-full","px-[var(--spacing-md)]","bg-[var(--bg-surface)]","border","rounded-[var(--radius-md)]","text-[var(--text-primary)]","cursor-pointer","transition-colors duration-150","focus:outline-none","focus:ring-2","focus:ring-[var(--border-focus)]","focus:border-transparent","disabled:opacity-[var(--opacity-disabled)]","disabled:cursor-not-allowed"],{variants:{size:{sm:"h-[var(--spacing-2xl)] text-sm",md:"h-[var(--spacing-3xl)] text-base",lg:"h-[var(--spacing-4xl)] text-base"},state:{default:"border-[var(--border-default)] hover:border-[var(--border-strong)]",invalid:"border-[var(--status-error)]"}},defaultVariants:{size:"md",state:"default"}}),x=s.forwardRef(({size:m="md",options:t,placeholder:e,className:l,...n},o)=>{const{selectProps:d,state:c}=O({options:t,...n});return i.jsxs("div",{className:T("relative w-full",l),children:[i.jsxs("select",{ref:o,...d,className:H({size:m,state:c.isInvalid?"invalid":"default",className:T("appearance-none pr-10")}),children:[e&&i.jsx("option",{value:"",disabled:!0,children:e}),t.map(a=>i.jsx("option",{value:a.value,disabled:a.isDisabled,children:a.label},a.value))]}),i.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-text-tertiary",children:i.jsx(N,{size:16})})]})});x.displayName="Select";x.__docgenInfo={description:"",methods:[],displayName:"Select",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"SelectOption"}],raw:"SelectOption[]"},description:"Available options"},value:{required:!1,tsType:{name:"string"},description:"Current selected value (controlled)"},defaultValue:{required:!1,tsType:{name:"string"},description:"Default value (uncontrolled)"},isDisabled:{required:!1,tsType:{name:"boolean"},description:"Whether select is disabled"},isReadOnly:{required:!1,tsType:{name:"boolean"},description:"Whether select is read-only"},isRequired:{required:!1,tsType:{name:"boolean"},description:"Whether select is required"},isInvalid:{required:!1,tsType:{name:"boolean"},description:"Whether select is invalid"},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string, option: SelectOption) => void",signature:{arguments:[{type:{name:"string"},name:"value"},{type:{name:"SelectOption"},name:"option"}],return:{name:"void"}}},description:"Called when selection changes"},onFocus:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: FocusEvent<HTMLSelectElement>) => void",signature:{arguments:[{type:{name:"FocusEvent",elements:[{name:"HTMLSelectElement"}],raw:"FocusEvent<HTMLSelectElement>"},name:"e"}],return:{name:"void"}}},description:"Focus handler"},onBlur:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: FocusEvent<HTMLSelectElement>) => void",signature:{arguments:[{type:{name:"FocusEvent",elements:[{name:"HTMLSelectElement"}],raw:"FocusEvent<HTMLSelectElement>"},name:"e"}],return:{name:"void"}}},description:"Blur handler"},"aria-label":{required:!1,tsType:{name:"string"},description:"Accessible label"},"aria-labelledby":{required:!1,tsType:{name:"string"},description:"ID of element labeling the select"},"aria-describedby":{required:!1,tsType:{name:"string"},description:"ID of element describing the select"},placeholder:{required:!1,tsType:{name:"string"},description:"Placeholder option text"},name:{required:!1,tsType:{name:"string"},description:"Select name attribute"},id:{required:!1,tsType:{name:"string"},description:"Select ID"},className:{required:!1,tsType:{name:"string"},description:""},size:{defaultValue:{value:"'md'",computed:!1},required:!1}},composes:["SelectVariantProps"]};export{x as S};
