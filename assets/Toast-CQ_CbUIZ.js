import{j as c}from"./jsx-runtime-BYYWji4R.js";import{r as s}from"./index-ClcD9ViR.js";import{c as g}from"./cn-CytzSlOG.js";const D={info:4e3,success:4e3,warning:6e3,error:8e3},N=3;let j=0;function R(){return`toast-${Date.now()}-${++j}`}function E(){const[o,d]=s.useState([]),m=s.useRef(new Map),i=s.useCallback(e=>{const t=m.current.get(e);t&&(clearTimeout(t),m.current.delete(e))},[]),u=s.useCallback(e=>{var r;d(l=>l.filter(x=>x.id!==e)),i(e);const t=o.find(l=>l.id===e);(r=t==null?void 0:t.onDismiss)==null||r.call(t)},[o,i]),b=s.useCallback(e=>{if(e.duration===0)return;const t=setTimeout(()=>{u(e.id)},e.duration);m.current.set(e.id,t)},[u]),v=s.useCallback(()=>{o.forEach(e=>{var t;i(e.id),(t=e.onDismiss)==null||t.call(e)}),d([])},[o,i]),n=s.useCallback(e=>{const t=e.id||R(),r=e.severity||"info",l=e.duration!==void 0?e.duration:D[r],x=o.find(h=>h.message===e.message&&h.severity===r);if(x)return x.id;const w={id:t,message:e.message,severity:r,duration:l,action:e.action,onDismiss:e.onDismiss,isPaused:!1};return d(h=>{var y;const T=[...h,w];if(T.length>N){const f=T.shift();f&&(i(f.id),(y=f.onDismiss)==null||y.call(f))}return T}),setTimeout(()=>b(w),0),t},[o,b,i]),a=s.useCallback(e=>{i(e),d(t=>t.map(r=>r.id===e?{...r,isPaused:!0}:r))},[i]),p=s.useCallback(e=>{const t=o.find(r=>r.id===e);t&&!t.isPaused||(d(r=>r.map(l=>l.id===e?{...l,isPaused:!1}:l)),t&&b(t))},[o,b]);s.useEffect(()=>{const e=m.current;return()=>{e.forEach(t=>clearTimeout(t)),e.clear()}},[]);const k=s.useCallback((e="bottom-right")=>({role:"region","aria-live":"polite","aria-label":"Notifications"}),[]),C=s.useCallback(e=>{const t=e.severity==="error"||e.severity==="warning";return{role:t?"alert":"status",...t&&{"aria-live":"assertive"},onMouseEnter:()=>a(e.id),onMouseLeave:()=>p(e.id),onFocus:()=>a(e.id),onBlur:()=>p(e.id)}},[a,p]),P=s.useCallback(e=>({"aria-label":"Dismiss notification",onClick:()=>u(e)}),[u]);return{show:n,dismiss:u,dismissAll:v,toasts:o,getContainerProps:k,getToastProps:C,getDismissButtonProps:P}}const A={info:{bg:"bg-blue-50 dark:bg-blue-950",border:"border-blue-200 dark:border-blue-800",text:"text-blue-800 dark:text-blue-200",icon:"ℹ️"},success:{bg:"bg-green-50 dark:bg-green-950",border:"border-green-200 dark:border-green-800",text:"text-green-800 dark:text-green-200",icon:"✓"},warning:{bg:"bg-yellow-50 dark:bg-yellow-950",border:"border-yellow-200 dark:border-yellow-800",text:"text-yellow-800 dark:text-yellow-200",icon:"⚠️"},error:{bg:"bg-red-50 dark:bg-red-950",border:"border-red-200 dark:border-red-800",text:"text-red-800 dark:text-red-200",icon:"✕"}},_={"top-left":"top-4 left-4","top-center":"top-4 left-1/2 -translate-x-1/2","top-right":"top-4 right-4","bottom-left":"bottom-4 left-4","bottom-center":"bottom-4 left-1/2 -translate-x-1/2","bottom-right":"bottom-4 right-4"};function M({position:o="bottom-right",children:d}){const{toasts:m,getContainerProps:i,getToastProps:u,getDismissButtonProps:b}=E(),v=i(o);return c.jsxs(c.Fragment,{children:[d,c.jsx("div",{...v,className:g("fixed z-50","flex flex-col gap-[var(--spacing-sm)]","pointer-events-none",_[o]),children:m.map(n=>{const a=A[n.severity],p=u(n),k=b(n.id);return c.jsxs("div",{...p,className:g("pointer-events-auto","min-w-[320px] max-w-[420px]",a.bg,"border",a.border,"rounded-[var(--radius-md)]","shadow-lg","p-[var(--spacing-md)]","flex gap-[var(--spacing-sm)] items-start","animate-in slide-in-from-bottom-2 fade-in","transition-all duration-200"),children:[c.jsx("span",{className:"flex-shrink-0","aria-hidden":"true",children:a.icon}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:g("text-sm",a.text),children:n.message}),n.action&&c.jsx("button",{onClick:n.action.onClick,className:g("mt-2 text-sm font-medium underline",a.text,"hover:opacity-80"),children:n.action.label})]}),c.jsx("button",{...k,className:g("flex-shrink-0",a.text,"hover:opacity-80"),children:"✕"})]},n.id)})})]})}M.__docgenInfo={description:"",methods:[],displayName:"ToastProvider",props:{position:{required:!1,tsType:{name:"union",raw:`| 'top-left'
| 'top-center'
| 'top-right'
| 'bottom-left'
| 'bottom-center'
| 'bottom-right'`,elements:[{name:"literal",value:"'top-left'"},{name:"literal",value:"'top-center'"},{name:"literal",value:"'top-right'"},{name:"literal",value:"'bottom-left'"},{name:"literal",value:"'bottom-center'"},{name:"literal",value:"'bottom-right'"}]},description:"Toast position",defaultValue:{value:"'bottom-right'",computed:!1}},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};export{M as T,E as u};
